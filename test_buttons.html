<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Test Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .service-btn {
            border-radius: 6px;
            font-size: 0.875rem;
            padding: 0.375rem 0.75rem;
            text-decoration: none;
            display: inline-block;
            transition: all 0.2s ease;
            border: 1px solid;
            cursor: pointer;
            position: relative;
            z-index: 100;
            min-width: 80px;
            text-align: center;
        }
        
        .service-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            text-decoration: none;
        }
        
        .service-btn.btn-outline-primary:hover {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
        }
        
        .service-btn.btn-outline-warning:hover {
            background-color: #ffc107;
            border-color: #ffc107;
            color: #000;
        }
        
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1>ğŸ§ª Button Functionality Test</h1>
        <p class="text-muted">Testing the fixed View and Edit buttons</p>
        
        <div class="card">
            <div class="card-header">
                <h5>Test Service: Test Breakfast</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <p><strong>Service Type:</strong> Meal</p>
                        <p><strong>Category:</strong> Breakfast</p>
                        <p><strong>Price:</strong> 25 MAD</p>
                    </div>
                    <div class="col-md-4">
                        <div class="action-buttons">
                            <!-- View Button -->
                            <a href="/food-extras/services/7" 
                               class="btn btn-sm btn-outline-primary service-btn view-btn" 
                               title="View Details"
                               data-service-id="7"
                               data-service-name="Test Breakfast">
                                <i class="fas fa-eye me-1"></i>View
                            </a>
                            
                            <!-- Edit Button -->
                            <a href="/food-extras/services/7/edit" 
                               class="btn btn-sm btn-outline-warning service-btn edit-btn" 
                               title="Edit Service"
                               data-service-id="7"
                               data-service-name="Test Breakfast">
                                <i class="fas fa-edit me-1"></i>Edit
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <h4>Test Instructions:</h4>
            <ol>
                <li>Open browser console (F12)</li>
                <li>Click the <strong>View</strong> button - should log navigation</li>
                <li>Click the <strong>Edit</strong> button - should log navigation</li>
                <li>Hover over buttons - should see hover effects</li>
            </ol>
        </div>
        
        <div class="mt-4">
            <h4>Expected Console Output:</h4>
            <pre class="bg-light p-3">
ğŸš€ Services page loaded successfully
ğŸ“Š Found 1 view buttons, 1 edit buttons, 0 deactivate buttons
ğŸ‘ï¸ View button 0: Service ID 7, Name: Test Breakfast
âœï¸ Edit button 0: Service ID 7, Name: Test Breakfast
âœ… All event listeners attached successfully
ğŸ§ª Testing first view button functionality...
ğŸ“ First view button: [HTML Element]
ğŸ”— First view button href: /food-extras/services/7
ğŸ“± First view button data attributes: {serviceId: "7", serviceName: "Test Breakfast"}
            </pre>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸš€ Services page loaded successfully');
        
        // Get all service buttons
        const viewButtons = document.querySelectorAll('.view-btn');
        const editButtons = document.querySelectorAll('.edit-btn');
        
        console.log(`ğŸ“Š Found ${viewButtons.length} view buttons, ${editButtons.length} edit buttons`);
        
        // Add click event listeners to View buttons
        viewButtons.forEach(function(button, index) {
            const serviceId = button.getAttribute('data-service-id');
            const serviceName = button.getAttribute('data-service-name');
            
            console.log(`ğŸ‘ï¸ View button ${index}: Service ID ${serviceId}, Name: ${serviceName}`);
            
            button.addEventListener('click', function(e) {
                e.preventDefault();
                console.log(`ğŸ¯ View button clicked for service: ${serviceName} (ID: ${serviceId})`);
                
                // Get the href from the button
                const href = this.href;
                console.log(`ğŸ”— Navigating to: ${href}`);
                
                // Show alert instead of navigation for testing
                alert(`View button clicked! Would navigate to: ${href}`);
            });
            
            // Add hover effect logging
            button.addEventListener('mouseenter', function() {
                console.log(`ğŸ–±ï¸ Hovering over view button for: ${serviceName}`);
            });
        });
        
        // Add click event listeners to Edit buttons
        editButtons.forEach(function(button, index) {
            const serviceId = button.getAttribute('data-service-id');
            const serviceName = button.getAttribute('data-service-name');
            
            console.log(`âœï¸ Edit button ${index}: Service ID ${serviceId}, Name: ${serviceName}`);
            
            button.addEventListener('click', function(e) {
                e.preventDefault();
                console.log(`ğŸ¯ Edit button clicked for service: ${serviceName} (ID: ${serviceId})`);
                
                // Get the href from the button
                const href = this.href;
                console.log(`ğŸ”— Navigating to: ${href}`);
                
                // Show alert instead of navigation for testing
                alert(`Edit button clicked! Would navigate to: ${href}`);
            });
            
            // Add hover effect logging
            button.addEventListener('mouseenter', function() {
                console.log(`ğŸ–±ï¸ Hovering over edit button for: ${serviceName}`);
            });
        });
        
        // Test button functionality
        console.log('âœ… All event listeners attached successfully');
        
        // Add a test click to verify functionality
        if (viewButtons.length > 0) {
            console.log('ğŸ§ª Testing first view button functionality...');
            const firstViewButton = viewButtons[0];
            console.log('ğŸ“ First view button:', firstViewButton);
            console.log('ğŸ”— First view button href:', firstViewButton.href);
            console.log('ğŸ“± First view button data attributes:', {
                serviceId: firstViewButton.getAttribute('data-service-id'),
                serviceName: firstViewButton.getAttribute('data-service-name')
            });
        }
    });
    </script>
</body>
</html>
